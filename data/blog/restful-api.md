---
title: RESTful API 정리하기
date: '2023-07-12'
tags: ['RESTful API', 'CS']
draft: false
summary: RESTful API 정의
---

# REST & API

RESTful API를 알아보기 앞서 REST와 API의 정의부터 보고가자

## **API란❓**

**어플리케이션 프로그래밍 인터페이스** 의 약자로, 다른 소프트웨어 시스템과 통신하기 위해 따라야 하는 규칙을 정의한다. 개발자들은 다른 애플리케이션이 프로그래밍 방식으로 애플리케이션과 통신할 수 있도록 API를 만든다.
<br/>
예를 들어서, 직원들의 근무시간 어플리케이션은 직원들의 전체 이름과 날짜 범위를 요청하는 API를 표시할 것이다. 또한, 이 정보가 수신되면 내부적으로 직원의 근무 시간 기록을 처리하고 해당 날짜 범위에서 근무한 시간을 반환합니다. <br/><br/>

웹 API는 `클라이언트`와 `웹 리소스` 사이의 게이트웨이라고 생각할 수 있다.

### **클라이언트**

클라이언트는 웹에서 정보에 액세스하려는 사용자입니다. 클라이언트는 API를 사용하는 사람이거나 소프트웨어 시스템일 수 있습니다.

### **리소스**

리소스는 다양한 애플리케이션이 클라이언트에게 제공하는 정보입니다. 리소스는 이미지, 동영상, 텍스트, 숫자 또는 모든 유형의 데이터일 수 있습니다. 클라이언트에 리소스를 제공하는 시스템을 **서버** 라고도 한다.

## **REST** 란❓

Representational State Transfer(REST)는 API 작동 방식에 대한 조건을 부과하는 소프트웨어 아키텍처이다.
이러한 조건들과 규칙들을 부과함으로써, 네트워크에서 통신을 관리할 수 있다.

# RESTful API는?

위에 서술한 REST 아키텍처 스타일을 따르는 API를 REST API라고 한다.

REST 아키텍처를 구현하는 웹 서비스를 RESTful 웹 서비스라고 하고, RESTful API라는 용어는 일반적으로 RESTful 웹 API를 나타내는데. REST API와 RESTful API라는 용어는 같은 의미로 사용하기도 한다.
<br/>

REST 아키텍쳐 스타일에는 몇 가지 원칙이 있다.

- ## 균일한 인터페이스(Uniform Interface)

균일한 인터페이스란 ? 서버가 **표준 형식** 으로 **정보** 를 **전송** 함을 나타냄을 의미한다. 형식이 지정된 리소스를 REST에서 표현이라고 부름. 이 형식은 서버 애플리케이션에 있는 리소스의 내부 표현과 다를 수 있음.
<br/>
예를 들어, 서버는 데이터를 텍스트로 저장하되, HTML 표현 형식으로 전송할 수 있음.

균일한 인터페이스에서도 또 다음의 4가지 조건이 있다.

1. 요청은 리소스를 식별해야 한다. 이를 위해 균일한 리소스 식별자를 사용.
2. 클라이언트는 원하는 경우 리소스를 **수정** 하거나 **삭제** 하기에 충분한 정보를 리소스 **표현** 에서 가지고 있음. 서버는 리소스를 자세히 설명하는 메타데이터를 전송하여 이 조건을 충족.
3. 클라이언트는 표현을 추가로 처리하는 방법에 대한 정보를 수신. 이를 위해 서버는 클라이언트가 리소스를 적절하게 사용할 수 있는 방법에 대한 메타데이터가 포함된 명확한 메시지를 전송.
4. 클라이언트는 작업을 완료하는 데 필요한 다른 모든 관련 리소스에 대한 정보를 수신. 이를 위해 서버는 클라이언트가 더 많은 리소스를 **동적으로** 검색할 수 있도록 표현에 하이퍼링크를 넣어 전송.

- ## 무상태(Stateless)

`무상태`는 서버가 이전의 모든 요청과 독립적으로 모든 클라이언트 요청을 완료하는 통신 방법을 나타냄. 클라이언트는 임의의 순서로 리소스를 요청할 수 있으며 모든 요청은 무상태이거나 다른 요청과 분리. 이 REST API 설계 제약 조건은 서버가 매번 요청을 완전히 이해해서 이행할 수 있음을 의미.

- ## 계층화 시스템(Layered System)

계층화된 시스템 아키텍처에서 클라이언트는 클라이언트와 서버 사이의 다른 승인된 중개자에게 연결할 수 있으며 여전히 서버로부터도 응답을 받음. 서버는 요청을 다른 서버로 전달할 수도 있음. 이러한 계층은 클라이언트에 보이지 않는 상태로 유지됨

- ## 캐시(Cache) 가능성

RESTful 웹 서비스는 서버 응답 시간을 개선하기 위해 클라이언트 또는 중개자에 일부 응답을 저장하는 프로세스인 캐싱을 지원.

- ## 온디맨드 코드(Code-On-Demend)

서버는 소프트웨어 프로그래밍 코드를 클라이언트에 전송하여 클라이언트 기능을 일시적으로 확장하거나 사용자 지정할 수 있음.
<br/><br/>

# RESTful API의 장점

- ## 확장성

  REST API를 구현하는 시스템은 REST가 클라이언트-서버 상호 작용을 최적화하기 때문에 효율적으로 크기 조정할 수 있습니다.

- ## 유연성

RESTful 웹 서비스는 완전한 클라이언트-서버 분리를 지원. 각 부분이 독립적으로 발전할 수 있도록 다양한 서버 구성 요소를 단순화 및 분리.

- ## 독립성

REST API는 사용되는 기술과 독립적. API 설계에 영향을 주지 않고 다양한 프로그래밍 언어로 클라이언트 및 서버 애플리케이션을 모두 작성 가능.

# RESTful API 작동 단계

RESTful API의 기본 기능은 인터넷 브라우징과 동일하다.

1. 클라이언트가 서버에 요청을 전송(`request`). 이때 요청 형식은 API 문서에 따라 형식을 지정.
   
2. 서버가 클라이언트를 인증하고 해당 요청을 수행할 수 있는 권한이 클라이언트에 있는지 확인(API KEY 등)

3. 서버가 요청을 수신하고 내부적으로 처리

4. 서버가 클라이언트에 응답을 반환. 응답에는 요청이 성공 여부를 알려주는 정보 + 성공시 클라이언트가 요청한 정보를 포함.

<br/>

# 클라이언트 요청 포함 요소들

- ## 고유 리소스 식별자

일반적으로 웹 REST API는 URL(Uniform Resource Locator)을 사용하여 리소스 식별을 수행.

- ## 메서드(method)

HTTP 메서드로 특정해보면 일반적으로 크게 4가지가 있다.
1. GET ➡️ GET을 사용하여 서버의 지정된 URL에 있는 리소스에 액세스
2. POST ➡️ 서버에 데이터를 전송
3. PUT ➡️ 서버의 기존 리소스를 업데이트
4. DELETE ➡️ 리소스를 제거

- ## HTTP 헤더

요청 헤더는 클라이언트와 서버 간에 교환되는 메타데이터이다. 요청 및 응답의 형식을 나타내고 요청 상태 등에 대한 정보를 제공.

<br/>

# RESTful API 서버의 응답

- ## 상태 표시줄

요청 성공 또는 실패를 알리는 3자리 상태 코드를 포함.<br/>
대표적인 상태코드들

  - 200: 일반 성공 응답
  - 201: POST 메서드 성공 응답
  - 400: 서버가 처리할 수 없는 잘못된 요청
  - 404: 리소스를 찾을 수 없음

[더 많은 상태코드 보기](https://developer.mozilla.org/ko/docs/Web/HTTP/Status)

- ## 메시지 본문

XML 또는 JSON 형식으로 정보를 요청할 수 있음. <br/>
예를 들어, 클라이언트가 John이라는 사람의 이름과 나이를 요청할때 JSON응답은 다음과 같다. 

```JSON
'{"name":"John", "age":30}'
```

- ## 헤더

서버, 인코딩, 날짜 및 콘텐츠 유형과 같은 정보를 포함


<br/>
Reference

https://aws.amazon.com/ko/what-is/restful-api/